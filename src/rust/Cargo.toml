# This file is generated by the IceCap build system.
# It is checked-in to version control for convenience and to serve as a reference.

[workspace]

resolver = "2"

members = [
    "9p/crosvm-9p",
    "9p/crosvm-9p-server",
    "9p/crosvm-9p-server/cli",
    "9p/crosvm-9p/wire-format-derive",
    "components/benchmark-server",
    "components/benchmark-server/config",
    "components/benchmark-server/types",
    "components/event-server",
    "components/event-server/config",
    "components/event-server/types",
    "components/event-server/types/cli/icecap-serialize-event-server-out-index",
    "components/fault-handler",
    "components/fault-handler/config",
    "components/host/user",
    "components/host/user/cli",
    "components/host/vmm",
    "components/host/vmm/config",
    "components/host/vmm/types",
    "components/idle",
    "components/mirage",
    "components/mirage/icecap-linux-syscall",
    "components/realm/vmm",
    "components/realm/vmm/config",
    "components/resource-server",
    "components/resource-server/config",
    "components/resource-server/core",
    "components/resource-server/types",
    "components/serial-server",
    "components/serial-server/config",
    "components/timer-server",
    "components/timer-server/client",
    "components/timer-server/config",
    "components/timer-server/types",
    "dyndl/cli/dyndl-serialize-spec",
    "dyndl/types",
    "dyndl/types/derive",
    "helpers/absurdity",
    "helpers/biterate",
    "helpers/finite-set",
    "helpers/finite-set/derive",
    "helpers/generated-module-hack",
    "helpers/numeric-literal-env-hack",
    "icecap/icecap-backtrace",
    "icecap/icecap-backtrace/cli/icecap-show-backtrace",
    "icecap/icecap-backtrace/collect",
    "icecap/icecap-backtrace/types",
    "icecap/icecap-config",
    "icecap/icecap-config/cli/builtins",
    "icecap/icecap-config/cli/core",
    "icecap/icecap-config/sys",
    "icecap/icecap-core",
    "icecap/icecap-failure",
    "icecap/icecap-failure/derive",
    "icecap/icecap-fdt",
    "icecap/icecap-fdt/bindings",
    "icecap/icecap-fdt/bindings/cli/icecap-append-devices",
    "icecap/icecap-logger",
    "icecap/icecap-plat",
    "icecap/icecap-ring-buffer",
    "icecap/icecap-rpc",
    "icecap/icecap-rpc/sel4",
    "icecap/icecap-runtime",
    "icecap/icecap-runtime/config",
    "icecap/icecap-runtime/config/cli/icecap-serialize-runtime-config",
    "icecap/icecap-sel4",
    "icecap/icecap-sel4/derive",
    "icecap/icecap-sel4/sys",
    "icecap/icecap-start",
    "icecap/icecap-start/generic",
    "icecap/icecap-std",
    "icecap/icecap-sync",
    "icecap/icecap-unwind",
    "icecap/icecap-vmm",
    "icecap/icecap-vmm/gic",
    "std-support/icecap-std-external",
    "std-support/icecap-std-impl",
]

[profiles.release]
lto = true
codegen-units = 1

[patches.crates-io.dlmalloc]
git = "https://gitlab.com/arm-research/security/icecap/rust-dlmalloc"
rev = "f6759cfed44dc4135eaa43c8c26599357749af39"
branch = "refs/tags/icecap/keep/f6759cfed44dc4135eaa43c8c2659935"

[patches.crates-io.libc]
git = "https://gitlab.com/arm-research/security/icecap/rust-libc"
rev = "bcb2c71ab1377db89ca6bca3e234b8f9ea20c012"
branch = "refs/tags/icecap/keep/bcb2c71ab1377db89ca6bca3e234b8f9"
